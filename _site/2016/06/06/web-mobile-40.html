<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>总结40条常见的移动端Web页面问题解决方案</title>	
	<link rel="stylesheet" href="/css/fonts/font-awesome.min.css">
	<link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
	<link rel="stylesheet" href="/css/highlight/highlight.css">
	<link rel="stylesheet" href="/css/blog/detail.css">
</head>
<body>
<img src="/images/index/1.jpg" class="fullscreenImg">
<div class="fullscreenMask"></div>


<div class="panel-cover">
	    <a href="/index.html"><img src="/images/index/face.png" class="face"></a>
	    <h1>ismumu</h1>
	    <h3>This is my little home</h3>
	    <ul>
	        <li><a class="fa fa-2x fa-tags" href="/blog.html" title="blog"><span class="description">Blog</span></a></li>
	        <li><a class="fa fa-2x fa-github" target="_blank" href="https://github.com/ismumu" title="GitHub"><span class="description">GitHub</span></a></li>
	        <li><a class="fa fa-2x fa-facebook" target="_blank" href="https://www.facebook.com/cuifuzhen" title="Facebook"><span class="description">Facebook</span></a></li>
	        <li><a class="fa fa-2x fa-tencent-weibo" target="_blank" href="http://t.qq.com/Jnanke" title="weibo"><span class="description">weibo</span></a></li>
	    </ul>
	</div>
</div>
<div class="content-wrapper">
	<div class="post-detail">
	<h1 class="detail-title">总结40条常见的移动端Web页面问题解决方案</h1>
	<h2 id="section">1、安卓浏览器看背景图片，有些设备会模糊。</h2>

<p>用同等比例的图片在PC机上很清楚，但是手机上很模糊，原因是什么呢？</p>

<p>经过研究，是devicePixelRatio作怪，因为手机分辨率太小，如果按照分辨率来显示网页，这样字会非常小，所以苹果当初就把iPhone 4的960640分辨率，在网页里只显示了480320，这样devicePixelRatio＝2。现在android比较乱，有1.5的，有2的也有3的。</p>

<p>想让图片在手机里显示更为清晰，必须使用2x的背景图来代替img标签（一般情况都是用2倍）。例如一个div的宽高是100100，背景图必须得200200，然后background-size:contain;，这样显示出来的图片就比较清晰了。</p>

<p>代码如下：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">background</span><span class="ss">:url</span><span class="p">(.</span><span class="nf">.</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="n">icon</span><span class="o">/</span><span class="n">all</span><span class="p">.</span><span class="nf">png</span><span class="p">)</span> <span class="n">no</span><span class="o">-</span><span class="n">repeat</span> <span class="n">center</span> <span class="n">center</span><span class="p">;</span>
<span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">background</span><span class="o">-</span><span class="n">size</span><span class="p">:</span><span class="mi">50</span><span class="n">px</span> <span class="mi">50</span><span class="n">px</span><span class="p">;</span>
<span class="n">background</span><span class="o">-</span><span class="ss">size: </span><span class="mi">50</span><span class="n">px</span> <span class="mi">50</span><span class="n">px</span><span class="p">;</span><span class="nb">display</span><span class="ss">:inline</span><span class="o">-</span><span class="n">block</span><span class="p">;</span> <span class="n">width</span><span class="p">:</span><span class="mi">100</span><span class="o">%</span><span class="p">;</span> <span class="n">height</span><span class="p">:</span><span class="mi">50</span><span class="n">px</span><span class="p">;</span></code></pre></figure>

<p>或者指定 background-size:contain;都可以，大家试试！</p>

<h2 id="section-1">2、图片加载</h2>

<p>若您遇到图片加载很慢的问题，对这种情况，手机开发一般用canvas方法加载：</p>

<p>具体的canvas API 参见：http://javascript.ruanyifeng.com/htmlapi/canvas.html</p>

<p>下面举例说明一个canvas的例子：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">canvas</span><span class="o">&gt;&lt;</span><span class="sr">/canvas&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span></code></pre></figure>

<p>js动态加载图片和li 总共举例17张图片！</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">total</span><span class="o">=</span><span class="mi">17</span><span class="p">;</span>
<span class="n">var</span> <span class="n">zWin</span><span class="o">=</span><span class="err">$</span><span class="p">(</span><span class="n">window</span><span class="p">);</span>
<span class="n">var</span> <span class="n">render</span><span class="o">=</span><span class="n">function</span><span class="p">(){</span>
  <span class="n">var</span> <span class="n">padding</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">var</span> <span class="n">winWidth</span><span class="o">=</span><span class="n">zWin</span><span class="p">.</span><span class="nf">width</span><span class="p">();</span>
  <span class="n">var</span> <span class="n">picWidth</span><span class="o">=</span><span class="no">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">((</span><span class="n">winWidth</span><span class="o">-</span><span class="n">padding</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">);</span>
  <span class="n">var</span> <span class="n">tmpl</span> <span class="o">=</span><span class="s1">''</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">var</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">totla</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
  <span class="n">var</span> <span class="nb">p</span><span class="o">=</span><span class="n">padding</span><span class="p">;</span>
  <span class="n">var</span> <span class="n">imgSrc</span><span class="o">=</span><span class="s1">'img/'</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="s1">'.jpg'</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="mi">4</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span>
   <span class="nb">p</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">tmpl</span> <span class="o">+=</span><span class="s1">'&lt;li style="width:'</span><span class="o">+</span><span class="n">picWidth</span><span class="o">+</span><span class="s1">'px;height:'</span><span class="o">+</span><span class="n">picWidth</span><span class="o">+</span><span class="s1">'px;padding-left:'</span><span class="o">+</span><span class="nb">p</span><span class="o">+</span><span class="s1">'px;padding-top:'</span><span class="o">+</span><span class="n">padding</span><span class="o">+</span><span class="s1">'px;"&gt;&lt;canvas id="cvs_'</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="s1">'"&gt;&lt;/canvas&gt;&lt;/li&gt;'</span><span class="p">;</span>
  <span class="n">var</span> <span class="n">imageObj</span> <span class="o">=</span> <span class="kp">new</span> <span class="no">Image</span><span class="p">();</span>
  <span class="n">imageObj</span><span class="p">.</span><span class="nf">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
  <span class="n">imageObj</span><span class="p">.</span><span class="nf">onload</span> <span class="o">=</span> <span class="n">function</span><span class="p">(){</span>
    <span class="n">var</span> <span class="n">cvs</span> <span class="o">=</span><span class="err">$</span><span class="p">(</span><span class="s1">'#cvs_'</span><span class="o">+</span><span class="n">this</span><span class="p">.</span><span class="nf">index</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nf">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="n">cvs</span><span class="p">.</span><span class="nf">width</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="nf">width</span><span class="p">;</span>
    <span class="n">cvs</span><span class="p">.</span><span class="nf">height</span><span class="o">=</span><span class="n">this</span><span class="p">.</span><span class="nf">height</span><span class="p">;</span>
    <span class="n">cvs</span><span class="p">.</span><span class="nf">drawImage</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">imageObj</span><span class="p">.</span><span class="nf">src</span><span class="o">=</span><span class="n">imgSrc</span><span class="p">;</span>
  <span class="p">}</span>
 
<span class="p">}</span>
<span class="n">render</span><span class="p">();</span></code></pre></figure>

<h2 id="iezeptojs">3、假如手机网站不用兼容IE浏览器，一般我们会使用zeptojs。</h2>

<p>zeptojs内置Touch events方法，具体可以看http://zeptojs.com/#Touch events</p>

<p>看了一下zeptio新版的API，已经支持IE10以上浏览器，对zeptojs可以选择使用！</p>

<h2 id="section-2">4、防止手机中网页放大和缩小。</h2>

<p>这点是最基本的，最为手机网站开发者来说应该都知道的，就是设置meta中的viewport</p>

<p>还有就是，有些手机网站我们看到如下声明：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;!</span><span class="no">DOCTYPE</span> <span class="n">html</span> <span class="no">PUBLIC</span> <span class="s2">"-//WAPFORUM//DTD XHTML Mobile 1.0//EN"</span> <span class="s2">"http://www.wapforum.org/DTD/xhtml-mobile10.dtd"</span><span class="o">&gt;</span></code></pre></figure>

<p>设置了DTD的方式是XHTML的写法，假如我们页面运用的是html5，可以不用设置DTD,直接声明&lt;!DOCTYPE html&gt;。</p>

<p>使用viewport使页面禁止缩放。 通常把user-scalable设置为0来关闭用户对页面视图缩放的行为</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"viewport"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"user-scalable=0"</span> <span class="o">/&gt;</span></code></pre></figure>

<p>但是为了更好的兼容，我们会使用完整的viewport设置。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"viewport"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"</span> <span class="o">/&gt;</span></code></pre></figure>

<p>当然，user-scalable=0,有的人也写成user-scalable=no，都可以的。</p>

<h2 id="apple-mobile-web-app-capable">5、apple-mobile-web-app-capable</h2>

<p>apple-mobile-web-app-capable是设置Web应用是否以全屏模式运行。</p>

<p>语法：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"apple-mobile-web-app-capable"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"yes"</span><span class="o">&gt;</span></code></pre></figure>

<p>说明：
如果content设置为yes，Web应用会以全屏模式运行，反之，则不会。content的默认值是no，表示正常显示。你可以通过只读属性window.navigator.standalone来确定网页是否以全屏模式显示。</p>

<h2 id="format-detection">6、format-detection</h2>

<p>format-detection 启动或禁用自动识别页面中的电话号码。
语法：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"format-detection"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"telephone=no"</span><span class="o">&gt;</span></code></pre></figure>

<p>说明：
默认情况下，设备会自动识别任何可能是电话号码的字符串。设置telephone=no可以禁用这项功能。</p>

<h2 id="html5ios">7、html5调用安卓或者ios的拨号功能</h2>

<p>html5提供了自动调用拨号的标签，只要在a标签的href中添加tel:就可以了。
如下：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"tel:10010"</span><span class="o">&gt;</span><span class="mi">10010</span><span class="o">&lt;</span><span class="sr">/a&gt;</span></code></pre></figure>

<h2 id="html5gps">8、html5GPS定位功能</h2>

<p>具体请看：<a href="http://www.w3school.com.cn/html5/html_5_geolocation.asp" target="_blank">http://www.w3school.com.cn/html5/html_5_geolocation.asp</a></p>

<h2 id="section-3">9、上下拉动滚动条时卡顿、慢</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">body</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">overflow</span><span class="o">-</span><span class="ss">scrolling: </span><span class="n">touch</span><span class="p">;</span>
  <span class="n">overflow</span><span class="o">-</span><span class="ss">scrolling: </span><span class="n">touch</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h2 id="section-4">10、禁止复制、选中文本</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Element</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="ss">select: </span><span class="n">none</span><span class="p">;</span>
  <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="ss">select: </span><span class="n">none</span><span class="p">;</span>
  <span class="o">-</span><span class="n">khtml</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="ss">select: </span><span class="n">none</span><span class="p">;</span>
   <span class="n">user</span><span class="o">-</span><span class="ss">select: </span><span class="n">none</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>解决移动设备可选中页面文本(视产品需要而定)</p>

<h2 id="section-5">11、长时间按住页面出现闪退</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">element</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">touch</span><span class="o">-</span><span class="ss">callout: </span><span class="n">none</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h2 id="iphoneipad">12、iphone及ipad下输入框默认内阴影</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Element</span><span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="ss">appearance: </span><span class="n">none</span><span class="p">;</span> 
<span class="p">}</span></code></pre></figure>

<h2 id="iosandroid">13、ios和android下触摸元素时出现半透明灰色遮罩</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Element</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">tap</span><span class="o">-</span><span class="n">highlight</span><span class="o">-</span><span class="n">color</span><span class="ss">:rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span></code></pre></figure>

<h2 id="active---active-">14、active兼容处理 即 伪类 :active 失效</h2>

<p>方法一：body添加ontouchstart</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">body</span> <span class="n">ontouchstart</span><span class="o">=</span><span class="s2">""</span><span class="o">&gt;</span></code></pre></figure>

<p>方法二：js给 document 绑定 touchstart 或 touchend 事件</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">style</span><span class="o">&gt;</span>
<span class="n">a</span> <span class="p">{</span>
 <span class="ss">color: </span><span class="c1">#000;</span>
<span class="p">}</span>
<span class="n">a</span><span class="ss">:active</span> <span class="p">{</span>
 <span class="ss">color: </span><span class="c1">#fff;</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/style&gt;
&lt;a herf=foo &gt;bar&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
 <span class="n">document</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="s1">'touchstart'</span><span class="p">,</span><span class="n">function</span><span class="p">(){},</span><span class="kp">false</span><span class="p">);</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></figure>

<h2 id="d">15、动画定义3D启用硬件加速</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Element</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="ss">:translate3d</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
  <span class="ss">transform: </span><span class="n">translate3d</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="retina1px">16、Retina屏的1px边框</h2>

<p>具体请百度谷歌关键字，解决方案有很多</p>

<h2 id="webkit-mask-">17、webkit mask 兼容处理</h2>

<p>某些低端手机不支持css3 mask，可以选择性的降级处理。
比如可以使用js判断来引用不同class：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span><span class="p">(</span> <span class="s1">'WebkitMask'</span> <span class="k">in</span> <span class="n">document</span><span class="p">.</span><span class="nf">documentElement</span><span class="p">.</span><span class="nf">style</span><span class="p">){</span>
  <span class="n">alert</span><span class="p">(</span><span class="s1">'支持mask'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">alert</span><span class="p">(</span><span class="s1">'不支持mask'</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="section-6">18、旋转屏幕时，字体大小调整的问题</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">html</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">form</span><span class="p">,</span> <span class="n">fieldset</span><span class="p">,</span> <span class="nb">p</span><span class="p">,</span> <span class="n">div</span><span class="p">,</span> <span class="n">h1</span><span class="p">,</span> <span class="n">h2</span><span class="p">,</span> <span class="n">h3</span><span class="p">,</span> <span class="n">h4</span><span class="p">,</span> <span class="n">h5</span><span class="p">,</span> <span class="n">h6</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">text</span><span class="o">-</span><span class="n">size</span><span class="o">-</span><span class="n">adjust</span><span class="p">:</span><span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h2 id="transition">19、transition闪屏</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="sr">/设置内嵌的元素在 3D 空间如何呈现：保留3D /</span>
<span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">-</span><span class="ss">style: </span><span class="n">preserve</span><span class="o">-</span><span class="mi">3</span><span class="n">d</span><span class="p">;</span>
<span class="sr">/ 设置进行转换的元素的背面在面对用户时是否可见：隐藏 /</span>
<span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">backface</span><span class="o">-</span><span class="n">visibility</span><span class="ss">:hidden</span><span class="p">;</span></code></pre></figure>

<h2 id="bug">20、圆角bug</h2>

<p>某些Android手机圆角失效</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">background</span><span class="o">-</span><span class="ss">clip: </span><span class="n">padding</span><span class="o">-</span><span class="n">box</span><span class="p">;</span></code></pre></figure>

<h2 id="section-7">21、顶部状态栏背景色</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"apple-mobile-web-app-status-bar-style"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"black"</span> <span class="o">/&gt;</span></code></pre></figure>

<p>说明：
除非你先使用apple-mobile-web-app-capable指定全屏模式，否则这个meta标签不会起任何作用。</p>

<p>如果content设置为default，则状态栏正常显示。如果设置为blank，则状态栏会有一个黑色的背景。如果设置为blank-translucent，则状态栏显示为黑色半透明。</p>

<p>如果设置为default或blank，则页面显示在状态栏的下方，即状态栏占据上方部分，页面占据下方部分，二者没有遮挡对方或被遮挡。</p>

<p>如果设置为blank-translucent，则页面会充满屏幕，其中页面顶部会被状态栏遮盖住（会覆盖页面20px高度，而iphone4和itouch4的Retina屏幕为40px）。</p>

<p>默认值是default。</p>

<h2 id="section-8">22、设置缓存</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="n">http</span><span class="o">-</span><span class="n">equiv</span><span class="o">=</span><span class="s2">"Cache-Control"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"no-cache"</span> <span class="o">/&gt;</span></code></pre></figure>

<p>手机页面通常在第一次加载后会进行缓存，然后每次刷新会使用缓存而不是去重新向服务器发送请求。如果不希望使用缓存可以设置no-cache。</p>

<h2 id="section-9">23、桌面图标</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"touch-icon-iphone.png"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">sizes</span><span class="o">=</span><span class="s2">"76x76"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"touch-icon-ipad.png"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">sizes</span><span class="o">=</span><span class="s2">"120x120"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"touch-icon-iphone-retina.png"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">sizes</span><span class="o">=</span><span class="s2">"152x152"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"touch-icon-ipad-retina.png"</span> <span class="o">/&gt;</span></code></pre></figure>

<p>iOS下针对不同设备定义不同的桌面图标。如果不定义则以当前屏幕截图作为图标。</p>

<p>上面的写法可能大家会觉得会有默认光泽，下面这种设置方法可以去掉光泽效果，还原设计图的效果！</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon-precomposed"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"touch-icon-iphone.png"</span> <span class="o">/&gt;</span></code></pre></figure>

<p>图片尺寸可以设定为57<em>57（px）或者Retina可以定为114</em>114（px），ipad尺寸为72*72（px)</p>

<h2 id="section-10">24、启动画面</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-startup-image"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"start.png"</span><span class="o">/&gt;</span></code></pre></figure>

<p>iOS下页面启动加载时显示的画面图片，避免加载时的白屏。</p>

<p>可以通过madia来指定不同的大小：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;!--</span><span class="n">iPhone</span><span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">href</span><span class="o">=</span><span class="s2">"apple-touch-startup-image-320x460.png"</span> <span class="n">media</span><span class="o">=</span><span class="s2">"(device-width: 320px)"</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-startup-image"</span> <span class="o">/&gt;</span>
 
<span class="o">&lt;!--</span> <span class="n">iPhone</span> <span class="no">Retina</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">href</span><span class="o">=</span><span class="s2">"apple-touch-startup-image-640x920.png"</span> <span class="n">media</span><span class="o">=</span><span class="s2">"(device-width: 320px) and (-webkit-device-pixel-ratio: 2)"</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-startup-image"</span> <span class="o">/&gt;</span>
 
<span class="o">&lt;!--</span> <span class="n">iPhone</span> <span class="mi">5</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-startup-image"</span> <span class="n">media</span><span class="o">=</span><span class="s2">"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"apple-touch-startup-image-640x1096.png"</span><span class="o">&gt;</span>
 
<span class="o">&lt;!--</span> <span class="n">iPad</span> <span class="n">portrait</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">href</span><span class="o">=</span><span class="s2">"apple-touch-startup-image-768x1004.png"</span> <span class="n">media</span><span class="o">=</span><span class="s2">"(device-width: 768px) and (orientation: portrait)"</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-startup-image"</span> <span class="o">/&gt;</span>
 
<span class="o">&lt;!--</span> <span class="n">iPad</span> <span class="n">landscape</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">href</span><span class="o">=</span><span class="s2">"apple-touch-startup-image-748x1024.png"</span> <span class="n">media</span><span class="o">=</span><span class="s2">"(device-width: 768px) and (orientation: landscape)"</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-startup-image"</span> <span class="o">/&gt;</span>
 
<span class="o">&lt;!--</span> <span class="n">iPad</span> <span class="no">Retina</span> <span class="n">portrait</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">href</span><span class="o">=</span><span class="s2">"apple-touch-startup-image-1536x2008.png"</span> <span class="n">media</span><span class="o">=</span><span class="s2">"(device-width: 1536px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-startup-image"</span> <span class="o">/&gt;</span>
 
<span class="o">&lt;!--</span> <span class="n">iPad</span> <span class="no">Retina</span> <span class="n">landscape</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">href</span><span class="o">=</span><span class="s2">"apple-touch-startup-image-1496x2048.png"</span><span class="n">media</span><span class="o">=</span><span class="s2">"(device-width: 1536px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"</span><span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-startup-image"</span> <span class="o">/&gt;</span></code></pre></figure>

<h2 id="meta">25、浏览器私有及其它meta</h2>

<p>以下属性在项目中没有应用过，可以写一个demo测试以下！</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;!--</span> <span class="no">QQ</span><span class="err">浏览器私有</span> <span class="o">--&gt;</span>
<span class="o">&lt;!--</span> <span class="err">全屏模式</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"x5-fullscreen"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"true"</span><span class="o">&gt;</span>
<span class="o">&lt;!--</span> <span class="err">强制竖屏</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"x5-orientation"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"portrait"</span><span class="o">&gt;</span>
<span class="o">&lt;!--</span> <span class="err">强制横屏</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"x5-orientation"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"landscape"</span><span class="o">&gt;</span>
<span class="o">&lt;!--</span> <span class="err">应用模式</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"x5-page-mode"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"app"</span><span class="o">&gt;</span>
 
<span class="o">&lt;!--</span> <span class="no">UC</span><span class="err">浏览器私有</span> <span class="o">--&gt;</span>
<span class="o">&lt;!--</span> <span class="err">全屏模式</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"full-screen"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"yes"</span><span class="o">&gt;</span>
<span class="o">&lt;!--</span> <span class="err">强制竖屏</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"screen-orientation"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"portrait"</span><span class="o">&gt;</span>
<span class="o">&lt;!--</span> <span class="err">强制横屏</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"screen-orientation"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"landscape"</span><span class="o">&gt;</span>
<span class="o">&lt;!--</span> <span class="err">应用模式</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"browsermode"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"application"</span><span class="o">&gt;</span></code></pre></figure>

<p>其它,针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"HandheldFriendly"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"true"</span><span class="o">&gt;</span></code></pre></figure>

<p>微软的老式浏览器</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"MobileOptimized"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"320"</span><span class="o">&gt;</span></code></pre></figure>

<p>windows phone 点击无高光</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"msapplication-tap-highlight"</span> <span class="n">content</span><span class="o">=</span><span class="s2">"no"</span><span class="o">&gt;</span></code></pre></figure>

<h2 id="iosinputkeyupkeydownkeypress">26、 IOS中input键盘事件keyup、keydown、keypress支持不是很好</h2>

<p>问题是这样的，用input search做模糊搜索的时候，在键盘里面输入关键词，会通过ajax后台查询，然后返回数据，然后再对返回的数据进行关键词标红。</p>

<p>用input监听键盘keyup事件，在安卓手机浏览器中是可以的，但是在ios手机浏览器中变红很慢，用输入法输入之后，并未立刻相应keyup事件，只有在通过删除之后才能相应！</p>

<p>解决办法：
可以用html5的oninput事件去代替keyup</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s2">"text"</span> <span class="nb">id</span><span class="o">=</span><span class="s2">"testInput"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
  <span class="n">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="s1">'testInput'</span><span class="p">).</span><span class="nf">addEventListener</span><span class="p">(</span><span class="s1">'input'</span><span class="p">,</span> <span class="n">function</span><span class="p">(</span><span class="n">e</span><span class="p">){</span>
    <span class="n">var</span> <span class="n">value</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="nf">target</span><span class="p">.</span><span class="nf">value</span><span class="p">;</span>
  <span class="p">});</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></figure>

<p>然后就达到类似keyup的效果！</p>

<h2 id="h5input-typenumber">27、h5网站input 设置为type=number的问题</h2>

<p>h5网页input 的type设置为number一般会产生三个问题，一个问题是maxlength属性不好用了。另外一个是form提交的时候，默认给取整了。三是部分安卓手机出现样式问题。</p>

<p>问题一解决，我目前用的是js。如下</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s2">"number"</span> <span class="n">oninput</span><span class="o">=</span><span class="s2">"checkTextLength(this ,10)"</span><span class="o">&gt;</span> 
 
<span class="n">function</span> <span class="n">checkTextLength</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span> 
      <span class="k">if</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="n">length</span><span class="p">)</span>  <span class="p">{</span>    
        <span class="n">obj</span><span class="p">.</span><span class="nf">value</span> <span class="o">=</span> <span class="n">obj</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">);</span> 
      <span class="p">}</span> 
<span class="p">}</span></code></pre></figure>

<p>问题二，是因为form提交默认做了表单验证，step默认是1,要设置step属性，假如保留2位小数，写法如下：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s2">"number"</span> <span class="n">step</span><span class="o">=</span><span class="s2">"0.01"</span> <span class="o">/&gt;</span></code></pre></figure>

<p>关于step，我在这里做简单的介绍，input 中type=number，一般会自动生成一个上下箭头，点击上箭头默认增加一个step，点击下箭头默认会减少一个step。number中默认step是1。也就是step=0.01,可以允许输入2位小数，并且点击上下箭头分别增加0.01和减少0.01。</p>

<p>假如step和min一起使用，那么数值必须在min和max之间。</p>

<p>看下面的例子：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s2">"number"</span> <span class="n">step</span><span class="o">=</span><span class="s2">"3.1"</span> <span class="n">min</span><span class="o">=</span><span class="s2">"1"</span> <span class="o">/&gt;</span></code></pre></figure>

<p>输入框可以输入哪些数字？</p>

<p>首先，最小值是1，那么可以输入1.0，第二个是可以输入（1+3.1）那就是4.1,以此类推，每次点击上下箭头都会增加或者减少3.1，输入其他数字无效。这就是step的简单介绍。</p>

<p>问题三，去除input默认样式</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">input</span><span class="p">[</span><span class="n">type</span><span class="o">=</span><span class="n">number</span><span class="p">]</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">appearance</span><span class="ss">:textfield</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">input</span><span class="p">[</span><span class="n">type</span><span class="o">=</span><span class="n">number</span><span class="p">]</span><span class="o">::-</span><span class="n">webkit</span><span class="o">-</span><span class="n">inner</span><span class="o">-</span><span class="n">spin</span><span class="o">-</span><span class="n">button</span><span class="p">,</span>
<span class="n">input</span><span class="p">[</span><span class="n">type</span><span class="o">=</span><span class="n">number</span><span class="p">]</span><span class="o">::-</span><span class="n">webkit</span><span class="o">-</span><span class="n">outer</span><span class="o">-</span><span class="n">spin</span><span class="o">-</span><span class="n">button</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="ss">appearance: </span><span class="n">none</span><span class="p">;</span>
  <span class="ss">margin: </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h1 id="ios-input-">28、ios 设置input 按钮样式会被默认样式覆盖</h1>

<p>解决方式如下：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">input</span><span class="p">,</span>
<span class="n">textarea</span> <span class="p">{</span>
  <span class="ss">border: </span><span class="mi">0</span><span class="p">;</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="ss">appearance: </span><span class="n">none</span><span class="p">;</span> 
<span class="p">}</span></code></pre></figure>

<p>设置默认样式为none</p>

<h2 id="ios">29、IOS键盘字母输入，默认首字母大写</h2>

<p>解决方案，设置如下属性</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s2">"text"</span> <span class="n">autocapitalize</span><span class="o">=</span><span class="s2">"off"</span> <span class="o">/&gt;</span></code></pre></figure>

<h2 id="select-">30、select 下拉选择设置右对齐</h2>

<p>设置如下：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">select</span> <span class="n">option</span> <span class="p">{</span>
<span class="ss">direction: </span><span class="n">rtl</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h2 id="transformskewrotate">31、通过transform进行skew变形，rotate旋转会造成出现锯齿现象</h2>

<p>可以设置如下：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="ss">transform: </span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="n">deg</span><span class="p">)</span> <span class="n">skew</span><span class="p">(</span><span class="mi">10</span><span class="n">deg</span><span class="p">)</span> <span class="n">translateZ</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
 <span class="ss">transform: </span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="n">deg</span><span class="p">)</span> <span class="n">skew</span><span class="p">(</span><span class="mi">10</span><span class="n">deg</span><span class="p">)</span> <span class="n">translateZ</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
 <span class="ss">outline: </span><span class="mi">1</span><span class="n">px</span> <span class="n">solid</span> <span class="n">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span></code></pre></figure>

<h2 id="ms">32、移动端点击300ms延迟</h2>

<p>300ms尚可接受，不过因为300ms产生的问题，我们必须要解决。300ms导致用户体验并不是很好，解决这个问题，我们一般在移动端用tap事件来取代click事件。</p>

<p>推荐两个js，一个是fastclick，一个是tap.js</p>

<h2 id="section-11">33、移动端点透问题</h2>

<p>案例如下：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">"haorooms"</span><span class="o">&gt;</span><span class="err">点头事件测试</span><span class="o">&lt;</span><span class="sr">/div&gt;
&lt;a href="#"&gt;www.xxx.com&lt;/</span><span class="n">a</span><span class="o">&gt;</span></code></pre></figure>

<p>div是绝对定位的蒙层,并且z-index高于a。而a标签是页面中的一个链接，我们给div绑定tap事件：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err">$</span><span class="p">(</span><span class="s1">'#haorooms'</span><span class="p">).</span><span class="nf">on</span><span class="p">(</span><span class="s1">'tap'</span><span class="p">,</span><span class="n">function</span><span class="p">(){</span>
	<span class="err">$</span><span class="p">(</span><span class="s1">'#haorooms'</span><span class="p">).</span><span class="nf">hide</span><span class="p">();</span>
<span class="p">});</span></code></pre></figure>

<p>我们点击蒙层时 div正常消失，但是当我们在a标签上点击蒙层时，发现a链接被触发，这就是所谓的点透事件。</p>

<p>原因：</p>

<p>touchstart 早于 touchend 早于click。 亦即click的触发是有延迟的，这个时间大概在300ms左右，也就是说我们tap触发之后蒙层隐藏， 此时 click还没有触发，300ms之后由于蒙层隐藏，我们的click触发到了下面的a链接上。</p>

<p>解决：</p>

<p>尽量都使用touch事件来替换click事件。例如用touchend事件(推荐)</p>

<p>用fastclick，https://github.com/ftlabs/fastclick</p>

<p>用preventDefault阻止a标签的click</p>

<p>延迟一定的时间(300ms+)来处理事件 （不推荐）</p>

<p>以上一般都能解决，实在不行就换成click事件。</p>

<p>下面介绍一下touchend事件，如下：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err">$</span><span class="p">(</span><span class="s2">"#haorooms"</span><span class="p">).</span><span class="nf">on</span><span class="p">(</span><span class="s2">"touchend"</span><span class="p">,</span> <span class="n">function</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">event</span><span class="p">.</span><span class="nf">preventDefault</span><span class="p">();</span>
<span class="p">});</span></code></pre></figure>

<h2 id="ie10-">34、消除 IE10 里面的那个叉号</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">input</span><span class="p">:</span><span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">clear</span><span class="p">{</span><span class="nb">display</span><span class="ss">:none</span><span class="p">;}</span></code></pre></figure>

<h2 id="ios--os-x-">35、关于 iOS 与 OS X 端字体的优化(横竖屏会出现字体加粗不一致等)</h2>

<p>iOS 浏览器横屏时会重置字体大小，设置 text-size-adjust 为 none 可以解决 iOS 上的问题，但桌面版 Safari 的字体缩放功能会失效，因此最佳方案是将 text-size-adjust 为 100% 。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">text</span><span class="o">-</span><span class="n">size</span><span class="o">-</span><span class="ss">adjust: </span><span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">text</span><span class="o">-</span><span class="n">size</span><span class="o">-</span><span class="ss">adjust: </span><span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="n">text</span><span class="o">-</span><span class="n">size</span><span class="o">-</span><span class="ss">adjust: </span><span class="mi">100</span><span class="o">%</span><span class="p">;</span></code></pre></figure>

<h2 id="ios-">36、关于 iOS 系统中，中文输入法输入英文时，字母之间可能会出现一个六分之一空格</h2>

<p>可以通过正则去掉</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">this</span><span class="p">.</span><span class="nf">value</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="nf">value</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/\u2006/</span><span class="n">g</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span></code></pre></figure>

<h2 id="html5-audio-autoplay-">37、移动端 HTML5 audio autoplay 失效问题</h2>

<p>这个不是 BUG，由于自动播放网页中的音频或视频，会给用户带来一些困扰或者不必要的流量消耗，所以苹果系统和安卓系统通常都会禁止自动播放和使用 JS 的触发播放，必须由用户来触发才可以播放。</p>

<p>解决方法思路：先通过用户 touchstart 触碰，触发播放并暂停（音频开始加载，后面用 JS 再操作就没问题了）。</p>

<p>解决代码：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">document</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="s1">'touchstart'</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">document</span><span class="p">.</span><span class="nf">getElementsByTagName</span><span class="p">(</span><span class="s1">'audio'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nf">play</span><span class="p">();</span>
  <span class="n">document</span><span class="p">.</span><span class="nf">getElementsByTagName</span><span class="p">(</span><span class="s1">'audio'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nf">pause</span><span class="p">();</span>
<span class="p">});</span></code></pre></figure>

<h2 id="html5-input-date--placeholder-">38、移动端 HTML5 input date 不支持 placeholder 问题</h2>

<p>这个我感觉没有什么好的解决方案，用如下方法</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">input</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">"Date"</span> <span class="k">class</span><span class="o">=</span><span class="s2">"textbox-n"</span> <span class="n">type</span><span class="o">=</span><span class="s2">"text"</span> <span class="n">onfocus</span><span class="o">=</span><span class="s2">"(this.type='date')"</span>  <span class="nb">id</span><span class="o">=</span><span class="s2">"date"</span><span class="o">&gt;</span></code></pre></figure>

<p>有的浏览器可能要点击两遍！</p>

<h2 id="typesearchinputclose">39、部分机型存在type为search的input，自带close按钮样式修改方法</h2>

<p>有些机型的搜索input控件会自带close按钮（一个伪元素），而通常为了兼容所有浏览器，我们会自己实现一个，此时去掉原生close按钮的方法为</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#Search::-webkit-search-cancel-button{</span>
  <span class="ss">display: </span><span class="n">none</span><span class="p">;</span> 
<span class="p">}</span></code></pre></figure>

<p>如果想使用原生close按钮，又想使其符合设计风格，可以对这个伪元素的样式进行修改。</p>

<h2 id="selectoption">40、唤起select的option展开</h2>
<p>zepto方式:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err">$</span><span class="p">(</span><span class="n">sltElement</span><span class="p">).</span><span class="nf">trrgger</span><span class="p">(</span><span class="s2">"mousedown"</span><span class="p">);</span></code></pre></figure>

<p>原生js方式:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">function</span> <span class="n">showDropdown</span><span class="p">(</span><span class="n">sltElement</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">var</span> <span class="n">event</span><span class="p">;</span>
  <span class="n">event</span> <span class="o">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">createEvent</span><span class="p">(</span><span class="s1">'MouseEvents'</span><span class="p">);</span>
  <span class="n">event</span><span class="p">.</span><span class="nf">initMouseEvent</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="n">window</span><span class="p">);</span>
  <span class="n">sltElement</span><span class="p">.</span><span class="nf">dispatchEvent</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="p">};</span></code></pre></figure>

	</div>
</div>
</body>
</html>