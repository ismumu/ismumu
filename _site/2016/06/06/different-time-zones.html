<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>new Date 不同时区的转换</title>
	<link rel="shortcut icon" href="/favicon.ico">
	<script src="/js/jquery/jquery.min.js"></script>
	<script src="/js/popper/popper.min.js"></script>
	<script src="/js/bootstrap/bootstrap.min.js"></script>
	<script src="/js/jquery/jquery.pin.js"></script>
	<script src="/js/gitment/gitment.js"></script>

	<link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
	<link rel="stylesheet" href="/css/fonts/font-awesome.min.css">
	<link rel="stylesheet" href="/css/gitment/gitment.css">
	<link rel="stylesheet" href="/css/common/common.css">
	<link rel="stylesheet" href="/css/highlight/highlight.css">
	<link rel="stylesheet" href="/css/blog/index.css">


</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
	<a class="navbar-brand" href="/">ismumu' home</a> | 
	<div class="collapse navbar-collapse">
		<ul class="navbar-nav">
			 
				<li class="nav-item active">
					<a class="nav-link" href="#">Javascript</a>
				</li>
			 
				<li class="nav-item active">
					<a class="nav-link" href="#">GitHub</a>
				</li>
			 
				<li class="nav-item active">
					<a class="nav-link" href="#">Regex</a>
				</li>
			 
				<li class="nav-item active">
					<a class="nav-link" href="#">Nginx</a>
				</li>
			 
				<li class="nav-item active">
					<a class="nav-link" href="#">Linux</a>
				</li>
			 
				<li class="nav-item active">
					<a class="nav-link" href="#">Svn</a>
				</li>
			
		</ul>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div class="col-sm-3 sidebar">
			<div class="post-list">
				<ul>
					
					<li>
						<h2 class="post-title"><a href="/2018/03/21/svn.html">svn常见问题汇总</a></h2>
					</li>
					
					<li>
						<h2 class="post-title"><a href="/2018/03/21/linux.html">linux常见问题汇总</a></h2>
					</li>
					
					<li>
						<h2 class="post-title"><a href="/2017/08/09/gzip-spa.html">在Nginx下配置使用单页面spa</a></h2>
					</li>
					
					<li>
						<h2 class="post-title"><a href="/2017/08/08/gzip.html">Nginx开启gzip</a></h2>
					</li>
					
					<li>
						<h2 class="post-title"><a href="/2017/07/08/regex.html">常用正则总结</a></h2>
					</li>
					
					<li>
						<h2 class="post-title"><a href="/2017/06/05/create-github-pages.html">创建github page</a></h2>
					</li>
					
					<li>
						<h2 class="post-title"><a href="/2016/06/06/different-time-zones.html">new Date 不同时区的转换</a></h2>
					</li>
					
				</ul>
			</div>
		</div>
		<div class="col-sm-9">
			<div class="blog-content">
				<h1>new Date 不同时区的转换</h1>
				<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">calcTime</span><span class="p">(</span><span class="nx">city</span><span class="p">,</span> <span class="nx">offset</span><span class="p">)</span> <span class="p">{</span> 
  <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span> 
  <span class="kd">var</span> <span class="nx">utc</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getTimezoneOffset</span><span class="p">()</span> <span class="o">*</span> <span class="mi">60000</span><span class="p">);</span> 
  <span class="kd">var</span> <span class="nx">nd</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">utc</span> <span class="o">+</span> <span class="p">(</span><span class="mi">3600000</span> <span class="o">*</span> <span class="nx">offset</span><span class="p">));</span> 
  <span class="k">return</span> <span class="s2">"The local time in "</span> <span class="o">+</span> <span class="nx">city</span> <span class="o">+</span> <span class="s2">" is "</span> <span class="o">+</span> <span class="nx">nd</span><span class="p">.</span><span class="nx">toLocaleString</span><span class="p">();</span> 
<span class="p">}</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">calcTime</span><span class="p">(</span><span class="s1">'Singapore'</span><span class="p">,</span> <span class="s1">'+8'</span><span class="p">));</span><span class="c1">//强制转换成中国时间</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">calcTime</span><span class="p">(</span><span class="s1">'Singapore'</span><span class="p">,</span> <span class="o">-</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">getTimezoneOffset</span><span class="p">()</span><span class="o">/</span><span class="mi">60</span><span class="p">));</span><span class="c1">//各地当地时间</span>

</code></pre></div></div>

				<div id="comments"></div>
			</div>
		</div>
	</div>
</div>

<script src="/js/blog/index.js"></script>
</body>
</html>