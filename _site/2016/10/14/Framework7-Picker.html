<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Framework7 Picker</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no">


    <link href="//staticwuyou.joyowo.com/framework7/css/framework7.ios.css" type="text/css" rel="stylesheet" />
    <link href="//staticwuyou.joyowo.com/css/framework7-wuyou-theme.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="//staticwuyou.joyowo.com/framework7/js/framework7.js"></script>

</head>
<body>

<div class="statusbar-overlay"></div>
<div class="views">
	<div class="view view-main">
		<div class="navbar">
			<div class="navbar-inner">
				<div class="left"></div>
				<div class="center">Picker</div>
				<div class="right"></div>
			</div>
		</div>
		<div class="pages">
			<div data-page="home" class="page navbar-fixed">
				<div class="page-content">
					<br/><br/>
					<div class="content-block-title">Custom toolbar</div>
					<div class="list-block">
						<ul>
							<li>
								<div class="item-content">
									<div class="item-inner">
										<div class="item-input">
											<input type="text" placeholder="Describe yourself" readonly id="picker-dependent">
										</div>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<script type="text/javascript">
var myApp = new Framework7();

// Dependent values
var city = {
	'浙江' : ['杭州', '西湖', '南浔'],
	'河南' : ['郑州', '新乡', '辉县'],
	'北京' : ['东城区', '西城区']
};


var city2 = {
	'杭州' : ['杭州1', '杭州2', '杭州3', '杭州4', '杭州5'],
	'西湖' : ['西湖1', '西湖2', '西湖3', '西湖4', '西湖5'],
	'南浔' : ['南浔1', '南浔2', '南浔3', '南浔4'],
	'郑州' : ['郑州1', '郑州2', '郑州3', '郑州4'],
	'新乡' : ['新乡1', '新乡2', '新乡3', '新乡4'],
	'辉县' : ['辉县1', '辉县2', '辉县3', '辉县4'],
	'东城区' : ['东城区1', '东城区2', '东城区3'],
	'西城区' : ['西城区1', '西城区2'],
}


var pickerDependent = myApp.picker({
	input: '#picker-dependent',
	rotateEffect: true,
	formatValue: function (picker, values) {
		return values.join('-');
	},
	cols: [
		{
			textAlign: 'left',
			values: ['浙江', '河南', '北京'],
			onChange: function (picker, country) {

				if(picker.cols[1].replaceValues){
					picker.cols[1].replaceValues(city[country]);

					console.log(city[country][0]);

					picker.cols[2].replaceValues(city2[city[country][0]]);
				}
			},
			width: 100
		},
		{
			textAlign: 'left',
			values: city['浙江'],
			onChange: function (picker, country) {
				if(picker.cols[2].replaceValues){
					picker.cols[2].replaceValues(city2[country]);
				}
			},
			width: 150
		},
		{
			textAlign: 'left',
			values: city2['杭州'],
			width: 150
		},
	]
});
</script>

</body>
</html>